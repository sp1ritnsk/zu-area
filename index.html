<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта OpenLayers с рисованием полигонов</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v9.0.0/ol.css" type="text/css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="map" class="map"></div>
    
    <div id="controls">
        <button id="draw-polygon" title="Рисовать полигон">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
            </svg>
        </button>
        <button id="edit-polygon" title="Редактировать полигон">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/>
            </svg>
        </button>
        <button id="clear-all" title="Очистить всё">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"/>
            </svg>
        </button>
        
        <div class="units-section">
            <label for="area-units">Единицы площади:</label>
            <select id="area-units">
                <option value="auto">Автоматически</option>
                <option value="m2">м²</option>
                <option value="ha">га</option>
                <option value="km2">км²</option>
            </select>
            
            <label for="length-units">Единицы длины:</label>
            <select id="length-units">
                <option value="auto">Автоматически</option>
                <option value="m">м</option>
                <option value="km">км</option>
            </select>
        </div>
    </div>
    
    <div id="info">
        <p>Нажмите "Рисовать полигон" для начала рисования. Кликайте для добавления точек, двойной клик для завершения.</p>
        <p><strong>Возможности:</strong> Геодезические измерения площади и длин сторон на сфероиде WGS84.</p>
        <div id="polygon-count">Нарисовано полигонов: 0</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ol@v9.0.0/dist/ol.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/geographiclib@1.52.2/geographiclib.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
